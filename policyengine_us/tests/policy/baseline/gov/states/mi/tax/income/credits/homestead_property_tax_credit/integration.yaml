- name: no household resources
  period: 2022
  input:
    mi_household_resources: 0
    assessed_property_value: 0
    state_code: MI
  output:
    mi_homestead_property_tax_credit_property_and_rent_value: 0
    mi_homestead_property_tax_credit_non_refundable: 0
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: taxable value greater than $143,000
  period: 2022
  input:
    mi_household_resources: 0
    assessed_property_value: 143_001
    state_code: MI
  output:
    mi_homestead_property_tax_credit_property_and_rent_value: 143_001
    mi_homestead_property_tax_credit_non_refundable: 143_001
    mi_homestead_property_tax_credit_eligible: false
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: not senior, negative property difference
  period: 2022
  input:
    mi_household_resources: 31_251
    assessed_property_value: 1_000
    state_code: MI
  output: # 1000 < 31_251 * 0.032
    mi_homestead_property_tax_credit_property_and_rent_value: 1_000
    mi_homestead_property_tax_credit_non_refundable: 0
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: not senior, 0% credit
  period: 2022
  input:
    mi_household_resources: 63_100
    assessed_property_value: 2_100
    state_code: MI
  output:
    mi_homestead_property_tax_credit_property_and_rent_value: 2_100
    mi_homestead_property_tax_credit_non_refundable: 80.8
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 48.48
    mi_homestead_property_tax_credit: 0

- name: not senior, 70% credit
  period: 2022
  absolute_error_margin: 0.1
  input:
    mi_household_resources: 56_500
    assessed_property_value: 1_809
    state_code: MI
  output: # (1809 - 56500 * 0.032) * 0.6 * 0.7
    mi_homestead_property_tax_credit_property_and_rent_value: 1_809
    mi_homestead_property_tax_credit_non_refundable: 1
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0.6
    mi_homestead_property_tax_credit: 0.42

- name: not senior, 100% credit
  period: 2022
  absolute_error_margin: 0.1
  input:
    mi_household_resources: 54_000
    assessed_property_value: 3_329
    state_code: MI
  output: # (3329 - 54000 * 0.032) * 0.6
    mi_homestead_property_tax_credit_property_and_rent_value: 3_329
    mi_homestead_property_tax_credit_non_refundable: 1_601
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 960.6
    mi_homestead_property_tax_credit: 960.6

- name: not senior, 20% credit
  period: 2021
  input:
    mi_household_resources: 58_900
    assessed_property_value: 5_000
    state_code: MI
  output: # (5000 - 58900 * 0.032) * 0.6 > 1500
    mi_homestead_property_tax_credit_property_and_rent_value: 5_000
    mi_homestead_property_tax_credit_non_refundable: 3_115.2
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 1_500
    mi_homestead_property_tax_credit: 300

- name: not senior, 10% credit
  period: 2022
  absolute_error_margin: 0.1
  input:
    mi_household_resources: 62_001
    assessed_property_value: 3_200
    state_code: MI
  output: # (3200 - 62001 * 0.032) * 0.6 * 0.1
    mi_homestead_property_tax_credit_property_and_rent_value: 3_200
    mi_homestead_property_tax_credit_non_refundable: 1_215.968
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 729.5808
    mi_homestead_property_tax_credit: 72.95808

- name: not senior, negative rent difference
  period: 2022
  input:
    mi_household_resources: 31_251
    rent: 4_347
    state_code: MI
  output: # 4347 * 0.23 < 31_251 * 0.032
    mi_homestead_property_tax_credit_property_and_rent_value: 999.81
    mi_homestead_property_tax_credit_non_refundable: 0
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: not senior, rent, 50% credit
  period: 2022
  absolute_error_margin: 0.1
  input:
    mi_household_resources: 58_001
    rent: 8_695
    state_code: MI
  output: # (8695 * 0.23 - 58001 * 0.032) * 0.6 * 0.5
    mi_homestead_property_tax_credit_property_and_rent_value: 1_999.85
    mi_homestead_property_tax_credit_non_refundable: 143.818
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 86.2908
    mi_homestead_property_tax_credit: 43.1454

- name: senior, negative property difference
  period: 2022
  input:
    mi_household_resources: 31_251
    assessed_property_value: 1_000
    greater_age_head_spouse: 66
    state_code: MI
  output: # 1000 < 31_251 * 0.032
    mi_homestead_property_tax_credit_property_and_rent_value: 1_000
    mi_homestead_property_tax_credit_non_refundable: 0
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: senior, 100% credit
  period: 2022
  input:
    mi_household_resources: 20_000
    assessed_property_value: 1_500
    greater_age_head_spouse: 66
    state_code: MI
  output: # 1500 - 20000 * 0.032
    mi_homestead_property_tax_credit_property_and_rent_value: 1_500
    mi_homestead_property_tax_credit_non_refundable: 860
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 860
    mi_homestead_property_tax_credit: 860
  
- name: senior, 84% credit and 100% credit
  period: 2022
  input:
    mi_household_resources: 25_000
    assessed_property_value: 2_100
    greater_age_head_spouse: 66
    state_code: MI
  output: # (2100 - 25000 * 0.032) * 0.84 * 1
    mi_homestead_property_tax_credit_property_and_rent_value: 2_100
    mi_homestead_property_tax_credit_non_refundable: 1_300
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 1_092
    mi_homestead_property_tax_credit: 1_092

- name: senior, 60% credit and 50% credit
  period: 2021
  input:
    mi_household_resources: 56_000
    assessed_property_value: 2_500
    greater_age_head_spouse: 66
    state_code: MI
  output: # (2500 - 56000 * 0.032) * 0.6 * 0.5
    mi_homestead_property_tax_credit_property_and_rent_value: 2_500
    mi_homestead_property_tax_credit_non_refundable: 708
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 424.8
    mi_homestead_property_tax_credit: 212.4

- name: senior, negative rent difference
  period: 2022
  input:
    mi_household_resources: 31_251
    rent: 4_347
    greater_age_head_spouse: 66
    state_code: MI
  output: # 4347 * 0.23 < 31_251 * 0.032
    mi_homestead_property_tax_credit_property_and_rent_value: 999.81
    mi_homestead_property_tax_credit_non_refundable: 0
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 0
    mi_homestead_property_tax_credit: 0

- name: senior, rent, 60% credit and 100% credit
  period: 2022
  input:
    mi_household_resources: 35_000
    rent: 7_200
    greater_age_head_spouse: 66
    state_code: MI
  output: # (7200 * 0.23 - 35000 * 0.032) * 0.6 * 1
    mi_homestead_property_tax_credit_property_and_rent_value: 1_656
    mi_homestead_property_tax_credit_non_refundable: 536
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 321.6
    mi_homestead_property_tax_credit: 321.6

- name: senior, 1% not refundable percent, rent, 100% credit
  period: 2022
  input:
    mi_household_resources: 4_000
    rent: 7_200
    greater_age_head_spouse: 66
    state_code: MI
  output: # 7200 * 0.23 - 4000 * 0.01 > 1600
    mi_homestead_property_tax_credit_property_and_rent_value: 1_656
    mi_homestead_property_tax_credit_non_refundable: 1_616
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 1_600
    mi_homestead_property_tax_credit: 1_600
  
- name: not senior, disabled, 2% not refundable percent, 100% credit
  period: 2022
  input:
    people:
      person1:
        assessed_property_value: 2_000
        is_disabled: true
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        mi_household_resources: 5_000
        members: [person1]
    household:
      members: [person1]
      state_code: MI
  output: # 2000 - 5000 * 0.02 > 1600
    mi_homestead_property_tax_credit_property_and_rent_value: 2_000
    mi_homestead_property_tax_credit_non_refundable: 1_900
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 1_600
    mi_homestead_property_tax_credit: 1_600

- name: senior, disabled, 2% not refundable percent, 100% credit
  period: 2022
  input:
    people:
      person1:
        assessed_property_value: 1_300
        is_disabled: true
        is_tax_unit_head_or_spouse: true
    tax_units:
      tax_unit:
        mi_household_resources: 5_000
        greater_age_head_spouse: 66
        members: [person1]
    household:
      members: [person1]
      state_code: MI
  output: # 1300 - 5000 * 0.02
    mi_homestead_property_tax_credit_property_and_rent_value: 1_300
    mi_homestead_property_tax_credit_non_refundable: 1_200
    mi_homestead_property_tax_credit_eligible: true
    mi_allowable_homestead_property_tax_credit: 1_200
    mi_homestead_property_tax_credit: 1_200
